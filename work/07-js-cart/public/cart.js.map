{"version":3,"file":"cart.js","mappings":"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","sources":["webpack://07-js-cart/./src/render.js","webpack://07-js-cart/./src/state.js","webpack://07-js-cart/webpack/bootstrap","webpack://07-js-cart/webpack/runtime/define property getters","webpack://07-js-cart/webpack/runtime/hasOwnProperty shorthand","webpack://07-js-cart/webpack/runtime/make namespace object","webpack://07-js-cart/./src/controller.js"],"sourcesContent":["import { PAGES } from './state';\n\nfunction render(state, appEl) {\n    if (!appEl) return;\n\n    switch (state.page) {\n        case PAGES.PRODUCTS:\n            renderProducts(state, appEl);\n            break;\n        case PAGES.CART:\n            renderCart(state, appEl);\n            break;\n        default:\n            console.warn(`Unknown page: ${state.page}`);\n    }\n}\n\nfunction renderProducts(state, appEl) {\n    const productsHTML = generateProductsHTML(state.products);\n    const viewCartButton = `View Cart${state.totalNum ? `(${state.totalNum})` : ''}`;\n\n    appEl.innerHTML = `\n     <button class=\"view-cart\">${viewCartButton}</button>\n    <ul class=\"products\">${productsHTML}</ul>  \n    `;\n}\n\nfunction renderCart(state, appEl) {\n    const productsHTML = generateProductsHTML(state.products);\n    const cartItemsHTML = generateCartItemsHTML(state.cartItems);\n    const totalPriceHTML = state.totalPrice ? `Total Cost: $${state.totalPrice.toFixed(2)}` : 'Total Cost: $0.00';\n\n    if (state.totalPrice === 0){\n        appEl.innerHTML = `\n        <ul class=\"products\">${productsHTML}</ul>  \n        <button class=\"hide-cart\">Hide Cart</button>\n        <div class=\"item\">Nothing in the cart</div>\n        <span class=\"total\">${totalPriceHTML}</span>\n        <ul class=\"carts\">${cartItemsHTML}</ul>\n        <button class=\"checkout\">Checkout</button>\n    `;\n    }else{\n        appEl.innerHTML = `\n        <ul class=\"products\">${productsHTML}</ul>  \n        <div class=\"center-container\">\n          <p>Shopping Cart</p>\n        </div>\n        <button class=\"hide-cart\">Hide Cart</button>\n        <span class=\"total\">${totalPriceHTML}</span>\n        <ul class=\"carts\">${cartItemsHTML}</ul>\n        <button class=\"checkout\">Checkout</button>\n      `;\n    }\n}\n\nfunction generateProductsHTML(products) {\n    return products.map((product, index) => `\n      <div class='product' data-index=\"${index}\">\n        <img src=\"${product.url}\" alt=\"${product.name}\"/>\n        <article class=\"product_info\">\n            <span>${product.name}</span>\n            <span>$${product.price}</span>\n        </article>\n        <button class=\"add-to-cart\" data-index=\"${index}\">Add to Cart</button>\n      </div>\n    `).join('');\n}\n\nfunction generateCartItemsHTML(cartItems) {\n    return cartItems.map((item, index) => `\n        <div class=\"cart-item\" data-index=\"${index}\">\n            <img src=\"${item.url}\" alt=\"${item.name}\" class=\"row__img\" />\n            <span>${item.name}</span>\n            <span class=\"total-price\">$${(item.price * item.quantity).toFixed(2)}</span>\n            <div class=\"amount\" data-index=\"${index}\">\n                <button data-index=\"${index}\" class=\"remove\"> - </button>        \n                <span>${item.quantity}</span> \n                <button data-index=\"${index}\" class=\"add\"> + </button>   \n            </div>\n        </div>\n    `).join('');\n}\n\nexport default render;","const PAGES = {\n    PRODUCTS: 'products',\n    CART: 'cart',\n};\n\nconst state = {\n    products: [\n        { name: \"Fluffball\", price: 0.99, url: 'http://placekitten.com/150/150?image=1' },\n        { name: \"General\", price: 3.14, url: 'http://placekitten.com/150/150?image=2' },\n        { name: \"Mayhem\", price: 2.73, url: 'http://placekitten.com/150/150?image=3' }\n    ],\n    cartItems: [],\n    page: PAGES.PRODUCTS,\n    totalPrice: 0,\n    totalNum: 0\n};\n\nfunction addProduct(index) {\n    const product = state.products[index];\n    const cartItem = state.cartItems.find(item => item.name === product.name);\n  \n    if (cartItem) {\n      cartItem.quantity++;\n    } else {\n      state.cartItems.push({ ...product, quantity: 1 });\n    }\n  \n    state.totalPrice += product.price;\n    state.totalNum++;\n}\n\nfunction removeQuantity(index) {\n    const item = state.cartItems[index];\n    if (item.quantity > 1) {\n      item.quantity--;\n      state.totalPrice -= item.price;\n      state.totalNum--;\n    } else {\n      removeItemFromCart(index);\n    }\n}\n\nfunction removeItemFromCart(index) {\n    state.totalPrice -= state.cartItems[index].price * state.cartItems[index].quantity;\n    state.totalNum -= state.cartItems[index].quantity;\n    state.cartItems.splice(index, 1);\n}\n\nfunction addQuantity(index) {\n    const item = state.cartItems[index];\n    item.quantity++;\n    state.totalPrice += item.price;\n    state.totalNum =+1;\n}\n\nfunction clearCart() {\n    state.cartItems = [];\n    state.totalPrice = 0;\n    state.totalNum = 0;\n    state.page = PAGES.PRODUCTS;\n}\n\nexport default state;\nexport { PAGES, addQuantity, removeQuantity, addProduct, clearCart };","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import state, { PAGES, addQuantity, removeQuantity, addProduct, clearCart } from './state';\nimport render from './render';\n\nconst appEl = document.querySelector('#app');\n\nfunction handleCartActions(e) {\n  const target = e.target;\n  const actionType = target.classList;\n  const index = target.dataset.index;\n\n  if (actionType.contains('add-to-cart')) {\n    addProduct(index);\n  } else if (actionType.contains('remove')) {\n    removeQuantity(index);\n  } else if (actionType.contains('add')) {\n    addQuantity(index);\n  } else if (actionType.contains('view-cart')) {\n    state.page = PAGES.CART;\n  } else if (actionType.contains('hide-cart')) {\n    state.page = PAGES.PRODUCTS;\n  } else if (actionType.contains('checkout')) {\n    clearCart();\n  }\n\n  render(state, appEl);\n}\n\nappEl.addEventListener('click', handleCartActions);\n\nrender(state, appEl);\n"],"names":["PAGES","render","state","appEl","page","PRODUCTS","renderProducts","CART","renderCart","console","warn","concat","productsHTML","generateProductsHTML","products","viewCartButton","totalNum","innerHTML","cartItemsHTML","generateCartItemsHTML","cartItems","totalPriceHTML","totalPrice","toFixed","map","product","index","url","name","price","join","item","quantity","addProduct","cartItem","find","push","_objectSpread","removeQuantity","removeItemFromCart","splice","addQuantity","clearCart","document","querySelector","handleCartActions","e","target","actionType","classList","dataset","contains","addEventListener"],"sourceRoot":""}